(function(){function e(a,k){for(a=""+a;a.length<k;)a="0"+a;return a}function c(a,k){void 0===Date.prototype[a]&&(Date.prototype[a]=k)}var j="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),n="January February March April May June July August September October November December".split(" "),r="Sun Mon Tue Wed Thu Fri Sat".split(" "),s="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),w={su:0,sun:0,sunday:0,mo:1,mon:1,monday:1,tu:2,tue:2,tuesday:2,we:3,wed:3,wednesday:3,
th:4,thu:4,thursday:4,fr:5,fri:5,friday:5,sa:6,sat:6,saturday:6},t=n.concat(j),u="su sun sunday mo mon monday tu tue tuesday we wed wednesday th thu thursday fr fri friday sa sat saturday".split(" "),x={jan:0,january:0,feb:1,february:1,mar:2,march:2,apr:3,april:3,may:4,jun:5,june:5,jul:6,july:6,aug:7,august:7,sep:8,september:8,oct:9,october:9,nov:10,november:10,dec:11,december:11},y=[31,28,31,30,31,30,31,31,30,31,30,31],m=function(a,k,b,c){for(;c>=b;c--){var f=a.substring(k,k+c);if(f.length<b)break;
var d;d=f.match(/^(\d+)$/)?!0:!1;if(d)return f}return null},z=Date.parse,A=function(a,k){for(var a=a+"",k=k+"",b=0,c=0,f="",d="",e,q,h=new Date,i=h.getYear(),h=h.getMonth()+1,l=1,g=0,o=0,p=0,j="";c<k.length;){f=k.charAt(c);for(d="";k.charAt(c)===f&&c<k.length;)d+=k.charAt(c++);if("yyyy"===d||"yy"===d||"y"===d){"yyyy"===d&&(q=e=4);"yy"===d&&(q=e=2);"y"===d&&(e=2,q=4);i=m(a,b,e,q);if(null===i)return NaN;b+=i.length;2===i.length&&(i=70<i?1900+(i-0):2E3+(i-0))}else if("MMM"===d||"NNN"===d){for(f=h=0;f<
t.length;f++){var n=t[f];if(a.substring(b,b+n.length).toLowerCase()===n.toLowerCase()&&("MMM"===d||"NNN"===d&&11<f)){h=f+1;12<h&&(h-=12);b+=n.length;break}}if(1>h||12<h)return NaN}else if("EE"===d||"E"===d)for(d=0;d<u.length;d++){if(f=u[d],a.substring(b,b+f.length).toLowerCase()===f.toLowerCase()){b+=f.length;break}}else if("MM"===d||"M"===d){h=m(a,b,d.length,2);if(null===h||1>h||12<h)return NaN;b+=h.length}else if("dd"===d||"d"===d){l=m(a,b,d.length,2);if(null===l||1>l||31<l)return NaN;b+=l.length}else if("hh"===
d||"h"===d){g=m(a,b,d.length,2);if(null===g||1>g||12<g)return NaN;b+=g.length}else if("HH"===d||"H"===d){g=m(a,b,d.length,2);if(null===g||0>g||23<g)return NaN;b+=g.length}else if("KK"===d||"K"===d){g=m(a,b,d.length,2);if(null===g||0>g||11<g)return NaN;b+=g.length}else if("kk"===d||"k"===d){g=m(a,b,d.length,2);if(null===g||1>g||24<g)return NaN;b+=g.length;g--}else if("mm"===d||"m"===d){o=m(a,b,d.length,2);if(null===o||0>o||59<o)return NaN;b+=o.length}else if("ss"===d||"s"===d){p=m(a,b,d.length,2);
if(null===p||0>p||59<p)return NaN;b+=p.length}else if("a"===d){if("am"===a.substring(b,b+2).toLowerCase())j="AM";else if("pm"===a.substring(b,b+2).toLowerCase())j="PM";else return NaN;b+=2}else{if(a.substring(b,b+d.length)!==d)return NaN;b+=d.length}}if(b!==a.length)return NaN;if(2===h)if(0===i%4&&0!==i%100||0===i%400){if(29<l)return NaN}else if(28<l)return NaN;if((4===h||6===h||9===h||11===h)&&30<l)return NaN;12>g&&"PM"===j?g=g-0+12:11<g&&"AM"===j&&(g-=12);return(new Date(i,h-1,l,g,o,p)).getTime()};
Date.parse=function(a,c){if(c)return A(a,c);var b=z(a),e=0,f;if(isNaN(b)&&(f=/^(\d{4}|[+\-]\d{6})-(\d{2})-(\d{2})(?:[T ](\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?))?/.exec(a)))"Z"!==f[8]&&(e=60*+f[10]+ +f[11],"+"===f[9]&&(e=0-e)),f[7]=f[7]||"000",b=Date.UTC(+f[1],+f[2]-1,+f[3],+f[4],+f[5]+e,+f[6],+f[7].substr(0,3));return b};Date.today=function(){return(new Date).clearTime()};Date.UTCtoday=function(){return(new Date).clearUTCTime()};Date.tomorrow=function(){return Date.today().add({days:1})};
Date.UTCtomorrow=function(){return Date.UTCtoday().add({days:1})};Date.yesterday=function(){return Date.today().add({days:-1})};Date.UTCyesterday=function(){return Date.UTCtoday().add({days:-1})};Date.validateDay=function(a,c,b){var e=new Date(c,b,a);return e.getFullYear()===c&&e.getMonth()===b&&e.getDate()===a};Date.validateYear=function(a){return 0<=a&&9999>=a};Date.validateSecond=function(a){return 0<=a&&60>a};Date.validateMonth=function(a){return 0<=a&&12>a};Date.validateMinute=function(a){return 0<=
a&&60>a};Date.validateMillisecond=function(a){return 0<=a&&1E3>a};Date.validateHour=function(a){return 0<=a&&24>a};Date.compare=function(a,c){return a.valueOf()<c.valueOf()?-1:a.valueOf()>c.valueOf()?1:0};Date.equals=function(a,c){return a.valueOf()===c.valueOf()};Date.getDayNumberFromName=function(a){return w[a.toLowerCase()]};Date.getMonthNumberFromName=function(a){return x[a.toLowerCase()]};Date.isLeapYear=function(a){return 29===(new Date(a,1,29)).getDate()};Date.getDaysInMonth=function(a,c){return 1===
c?Date.isLeapYear(a)?29:28:y[c]};c("getMonthAbbr",function(){return j[this.getMonth()]});c("getMonthName",function(){return n[this.getMonth()]});c("getUTCOffset",function(){var a=e(Math.abs(this.getTimezoneOffset()/0.6),4);0<this.getTimezoneOffset()&&(a="-"+a);return a});c("toCLFString",function(){return e(this.getDate(),2)+"/"+this.getMonthAbbr()+"/"+this.getFullYear()+":"+e(this.getHours(),2)+":"+e(this.getMinutes(),2)+":"+e(this.getSeconds(),2)+" "+this.getUTCOffset()});c("toYMD",function(a){a=
"undefined"===typeof a?"-":a;return this.getFullYear()+a+e(this.getMonth()+1,2)+a+e(this.getDate(),2)});c("toDBString",function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1,2)+"-"+e(this.getUTCDate(),2)+" "+e(this.getUTCHours(),2)+":"+e(this.getUTCMinutes(),2)+":"+e(this.getUTCSeconds(),2)});c("clearTime",function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this});c("clearUTCTime",function(){this.setUTCHours(0);this.setUTCMinutes(0);this.setUTCSeconds(0);
this.setUTCMilliseconds(0);return this});c("add",function(a){void 0!==a.milliseconds&&this.setMilliseconds(this.getMilliseconds()+a.milliseconds);void 0!==a.seconds&&this.setSeconds(this.getSeconds()+a.seconds);void 0!==a.minutes&&this.setMinutes(this.getMinutes()+a.minutes);void 0!==a.hours&&this.setHours(this.getHours()+a.hours);void 0!==a.days&&this.setDate(this.getDate()+a.days);void 0!==a.months&&this.setMonth(this.getMonth()+a.months);void 0!==a.years&&this.setFullYear(this.getFullYear()+a.years);
return this});c("addMilliseconds",function(a){return this.add({milliseconds:a})});c("addSeconds",function(a){return this.add({seconds:a})});c("addMinutes",function(a){return this.add({minutes:a})});c("addHours",function(a){return this.add({hours:a})});c("addDays",function(a){return this.add({days:a})});c("addWeeks",function(a){return this.add({days:7*a})});c("addMonths",function(a){return this.add({months:a})});c("addYears",function(a){return this.add({years:a})});c("setTimeToNow",function(){var a=
new Date;this.setMilliseconds(a.getMilliseconds());this.setSeconds(a.getSeconds());this.setMinutes(a.getMinutes());this.setHours(a.getHours())});c("clone",function(){return new Date(this.valueOf())});c("between",function(a,c){return this.valueOf()>=a.valueOf()&&this.valueOf()<=c.valueOf()});c("compareTo",function(a){return Date.compare(this,a)});c("equals",function(a){return Date.equals(this,a)});c("isAfter",function(a){a=a?a:new Date;return 0<this.compareTo(a)});c("isBefore",function(a){a=a?a:new Date;
return 0>this.compareTo(a)});c("getDaysBetween",function(a){return(a.clone().valueOf()-this.valueOf())/864E5|0});c("getHoursBetween",function(a){return(a.clone().valueOf()-this.valueOf())/36E5|0});c("getMinutesBetween",function(a){return(a.clone().valueOf()-this.valueOf())/6E4|0});c("getSecondsBetween",function(a){return(a.clone().valueOf()-this.valueOf())/1E3|0});c("getOrdinalNumber",function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864E5)+1});c("toFormat",function(a){var c=
v,b;b=this.getHours()%12?this.getHours()%12:12;b={YYYY:this.getFullYear(),YY:(""+this.getFullYear()).slice(-2),MMMM:n[this.getMonth()],MMM:j[this.getMonth()],MM:e(this.getMonth()+1,2),MI:e(this.getMinutes(),2),M:this.getMonth()+1,DDDD:s[this.getDay()],DDD:r[this.getDay()],DD:e(this.getDate(),2),D:this.getDate(),HH24:e(this.getHours(),2),HH:e(b,2),H:b,SS:e(this.getSeconds(),2),PP:12<=this.getHours()?"PM":"AM",P:12<=this.getHours()?"pm":"am",LL:e(this.getMilliseconds(),3)};return c(a,b)});c("toUTCFormat",
function(a){var c=v,b;b=this.getUTCHours()%12?this.getUTCHours()%12:12;b={YYYY:this.getUTCFullYear(),YY:(""+this.getUTCFullYear()).slice(-2),MMMM:n[this.getUTCMonth()],MMM:j[this.getUTCMonth()],MM:e(this.getUTCMonth()+1,2),MI:e(this.getUTCMinutes(),2),M:this.getUTCMonth()+1,DDDD:s[this.getUTCDay()],DDD:r[this.getUTCDay()],DD:e(this.getUTCDate(),2),D:this.getUTCDate(),HH24:e(this.getUTCHours(),2),HH:e(b,2),H:b,SS:e(this.getUTCSeconds(),2),PP:12<=this.getUTCHours()?"PM":"AM",P:12<=this.getUTCHours()?
"pm":"am",LL:e(this.getUTCMilliseconds(),3)};return c(a,b)});var v=function(a,c){var b=[a],e,f;for(e in c){f=e;for(var d=c[e],j=0,m=b.length,h=void 0,i=void 0,l=void 0,g=[];j<m;j++)if("string"==typeof b[j]){l=b[j].split(f);h=0;for(i=l.length-1;h<i;h++)g.push(l[h]),g.push([d]);g.push(l[i])}else g.push(b[j]);b=g}e=0;for(f=b.length;e<f;e++);return b.join("")}})();